if(CONFIG_MESH_SUPPORT_ALIYUN_LINKKIT)
        set(COMPONENT_PRIV_INCLUDEDIRS
                "iotkit-embedded/coap_server/CoAPPacket"
                "iotkit-embedded/coap_server/server"
                "iotkit-embedded/dev_bind/impl"
                "iotkit-embedded/dev_bind/impl/os"
                "iotkit-embedded/dev_bind/impl/awss_reset"
                "iotkit-embedded/wifi_provision/dev_ap"
                "iotkit-embedded/wifi_provision/frameworks"
                "iotkit-embedded/wifi_provision/frameworks/aplist"
                "iotkit-embedded/wifi_provision/frameworks/ieee80211"
                "iotkit-embedded/wifi_provision/frameworks/statics"
                "iotkit-embedded/wifi_provision/frameworks/utils"
                "iotkit-embedded/wifi_provision/p2p"
                "iotkit-embedded/wifi_provision/phone_ap"
                "iotkit-embedded/wifi_provision/router_ap"
                "iotkit-embedded/wifi_provision/smartconfig"
                "iotkit-embedded/wifi_provision/zero_config"
                "iotkit-embedded/wrappers/external_libs/nghttp2")

        set(COMPONENT_ADD_INCLUDEDIRS
                "iotkit-embedded/coap_server"
                "iotkit-embedded/dev_bind"
                "iotkit-embedded/dev_model"
                "iotkit-embedded/dev_reset"
                "iotkit-embedded/dev_sign"
                "iotkit-embedded/infra"
                "iotkit-embedded/mqtt"
                "iotkit-embedded/ota"
                "iotkit-embedded/wifi_provision"
                "iotkit-embedded"
                "wrappers/external_libs"
                "wrappers")

        set(COMPONENT_SRCS
                "iotkit-embedded/http/iotx_http_api.c"
                "iotkit-embedded/coap_cloud/CoAPSerialize_common.c"
                "iotkit-embedded/coap_cloud/iotx_coap_api.c"
                "iotkit-embedded/coap_cloud/CoAPMessage.c"
                "iotkit-embedded/coap_cloud/CoAPNetwork.c"
                "iotkit-embedded/coap_cloud/CoAPDeserialize_common.c"
                "iotkit-embedded/coap_cloud/CoAPExport.c"
                "iotkit-embedded/coap_cloud/CoAPMessage_common.c"
                "iotkit-embedded/dev_sign/dev_sign_mqtt.c"
                "iotkit-embedded/dev_bind/impl/awss_packet.c"
                "iotkit-embedded/dev_bind/impl/awss_report.c"
                "iotkit-embedded/dev_bind/impl/passwd.c"
                "iotkit-embedded/dev_bind/impl/awss_bind.c"
                "iotkit-embedded/dev_bind/impl/awss_cmp_mqtt.c"
                "iotkit-embedded/dev_bind/impl/awss_reset/awss_dev_reset.c"
                "iotkit-embedded/dev_bind/impl/awss_info.c"
                "iotkit-embedded/dev_bind/impl/os/os_misc.c"
                "iotkit-embedded/dev_bind/impl/awss_cmp_coap.c"
                "iotkit-embedded/dev_bind/impl/awss_timer.c"
                "iotkit-embedded/dev_bind/impl/awss_notify.c"
                "iotkit-embedded/dev_bind/impl/awss_event.c"
                "iotkit-embedded/dev_bind/impl/awss_bind_statis.c"
                "iotkit-embedded/dev_model/dm_tsl_alink.c"
                "iotkit-embedded/dev_model/dm_fota.c"
                "iotkit-embedded/dev_model/dm_manager.c"
                "iotkit-embedded/dev_model/alcs_server.c"
                "iotkit-embedded/dev_model/dm_shadow.c"
                "iotkit-embedded/dev_model/iotx_cm.c"
                "iotkit-embedded/dev_model/dm_client.c"
                "iotkit-embedded/dev_model/dm_opt.c"
                "iotkit-embedded/dev_model/alcs_mqtt.c"
                "iotkit-embedded/dev_model/iotx_cm_coap.c"
                "iotkit-embedded/dev_model/impl_ntp.c"
                "iotkit-embedded/dev_model/dm_ipc.c"
                "iotkit-embedded/dev_model/impl_gateway.c"
                "iotkit-embedded/dev_model/alcs_base64.c"
                "iotkit-embedded/dev_model/dm_message.c"
                "iotkit-embedded/dev_model/dm_client_adapter.c"
                "iotkit-embedded/dev_model/dm_server.c"
                "iotkit-embedded/dev_model/dm_message_cache.c"
                "iotkit-embedded/dev_model/iotx_cm_mqtt.c"
                "iotkit-embedded/dev_model/alcs_adapter.c"
                "iotkit-embedded/dev_model/dm_log_report.c"
                "iotkit-embedded/dev_model/alcs_localsetup.c"
                "iotkit-embedded/dev_model/dm_utils.c"
                "iotkit-embedded/dev_model/dm_ota.c"
                "iotkit-embedded/dev_model/alcs_api.c"
                "iotkit-embedded/dev_model/alcs_coap.c"
                "iotkit-embedded/dev_model/dm_cota.c"
                "iotkit-embedded/dev_model/impl_linkkit.c"
                "iotkit-embedded/dev_model/alcs_client.c"
                "iotkit-embedded/dev_model/impl_solo.c"
                "iotkit-embedded/dev_model/dm_msg_process.c"
                "iotkit-embedded/dev_model/dm_api.c"
                "iotkit-embedded/dev_model/dm_server_adapter.c"
                "iotkit-embedded/mqtt/iotx_mqtt_client.c"
                "iotkit-embedded/mqtt/MQTTUnsubscribeClient.c"
                "iotkit-embedded/mqtt/MQTTConnectClient.c"
                "iotkit-embedded/mqtt/mqtt_api.c"
                "iotkit-embedded/mqtt/MQTTPacket.c"
                "iotkit-embedded/mqtt/MQTTDeserializePublish.c"
                "iotkit-embedded/mqtt/MQTTSubscribeClient.c"
                "iotkit-embedded/mqtt/MQTTSerializePublish.c"
                "iotkit-embedded/ota/ota_mqtt.c"
                "iotkit-embedded/ota/ota_lib.c"
                "iotkit-embedded/ota/ota_coap.c"
                "iotkit-embedded/ota/ota_fetch.c"
                "iotkit-embedded/ota/iotx_ota.c"
                "iotkit-embedded/wrappers/external_libs/nghttp2/nghttp2_option.c"
                "iotkit-embedded/wrappers/external_libs/nghttp2/nghttp2_map.c"
                "iotkit-embedded/wrappers/external_libs/nghttp2/nghttp2_hd_huffman.c"
                "iotkit-embedded/wrappers/external_libs/nghttp2/nghttp2_frame.c"
                "iotkit-embedded/wrappers/external_libs/nghttp2/nghttp2_callbacks.c"
                "iotkit-embedded/wrappers/external_libs/nghttp2/nghttp2_hd_huffman_data.c"
                "iotkit-embedded/wrappers/external_libs/nghttp2/nghttp2_buf.c"
                "iotkit-embedded/wrappers/external_libs/nghttp2/nghttp2_net.c"
                "iotkit-embedded/wrappers/external_libs/nghttp2/nghttp2_session.c"
                "iotkit-embedded/wrappers/external_libs/nghttp2/nghttp2_helper.c"
                "iotkit-embedded/wrappers/external_libs/nghttp2/nghttp2_http.c"
                "iotkit-embedded/wrappers/external_libs/nghttp2/nghttp2_pq.c"
                "iotkit-embedded/wrappers/external_libs/nghttp2/nghttp2_debug.c"
                "iotkit-embedded/wrappers/external_libs/nghttp2/nghttp2_submit.c"
                "iotkit-embedded/wrappers/external_libs/nghttp2/nghttp2_outbound_item.c"
                "iotkit-embedded/wrappers/external_libs/nghttp2/nghttp2_stream.c"
                "iotkit-embedded/wrappers/external_libs/nghttp2/nghttp2_hd.c"
                "iotkit-embedded/wrappers/external_libs/nghttp2/nghttp2_priority_spec.c"
                "iotkit-embedded/wrappers/external_libs/nghttp2/nghttp2_version.c"
                "iotkit-embedded/wrappers/external_libs/nghttp2/nghttp2_queue.c"
                "iotkit-embedded/wrappers/external_libs/nghttp2/nghttp2_npn.c"
                "iotkit-embedded/wrappers/external_libs/nghttp2/nghttp2_rcbuf.c"
                "iotkit-embedded/wrappers/external_libs/nghttp2/nghttp2_mem.c"
                "iotkit-embedded/wrappers/external_libs/cJSON.c"
                "iotkit-embedded/dev_reset/dev_reset.c"
                "iotkit-embedded/coap_server/server/CoAPPlatform.c"
                "iotkit-embedded/coap_server/server/CoAPObserve.c"
                "iotkit-embedded/coap_server/server/CoAPServer.c"
                "iotkit-embedded/coap_server/server/CoAPMessage.c"
                "iotkit-embedded/coap_server/server/CoAPNetwork.c"
                "iotkit-embedded/coap_server/server/CoAPResource.c"
                "iotkit-embedded/coap_server/server/CoAPExport.c"
                "iotkit-embedded/coap_server/CoAPPacket/CoAPSerialize_common.c"
                "iotkit-embedded/coap_server/CoAPPacket/CoAPDeserialize_common.c"
                "iotkit-embedded/coap_server/CoAPPacket/CoAPMessage_common.c"
                "iotkit-embedded/wifi_provision/router_ap/awss_adha.c"
                "iotkit-embedded/wifi_provision/p2p/awss_wps.c"
                "iotkit-embedded/wifi_provision/smartconfig/awss_smartconfig.c"
                "iotkit-embedded/wifi_provision/frameworks/aplist/awss_aplist.c"
                "iotkit-embedded/wifi_provision/frameworks/utils/zconfig_utils.c"
                "iotkit-embedded/wifi_provision/frameworks/utils/awss_aes_wrapper.c"
                "iotkit-embedded/wifi_provision/frameworks/utils/awss_crypt.c"
                "iotkit-embedded/wifi_provision/frameworks/zconfig_protocol.c"
                "iotkit-embedded/wifi_provision/frameworks/awss.c"
                "iotkit-embedded/wifi_provision/frameworks/awss_main.c"
                "iotkit-embedded/wifi_provision/frameworks/zconfig_vendor_common.c"
                "iotkit-embedded/wifi_provision/frameworks/statics/awss_statis.c"
                "iotkit-embedded/wifi_provision/frameworks/ieee80211/zconfig_ieee80211.c"
                "iotkit-embedded/wifi_provision/phone_ap/awss_aha.c"
                "iotkit-embedded/wifi_provision/phone_ap/awss_wifimgr.c"
                "iotkit-embedded/wifi_provision/zero_config/awss_registrar.c"
                "iotkit-embedded/wifi_provision/zero_config/awss_enrollee.c"
                "iotkit-embedded/wifi_provision/dev_ap/awss_dev_ap.c"
                "iotkit-embedded/certs/root_ca.c"
                "iotkit-embedded/infra/infra_sha1.c"
                "iotkit-embedded/infra/infra_report.c"
                "iotkit-embedded/infra/infra_log.c"
                "iotkit-embedded/infra/infra_compat.c"
                "iotkit-embedded/infra/infra_httpc.c"
                "iotkit-embedded/infra/infra_defs.c"
                "iotkit-embedded/infra/infra_string.c"
                "iotkit-embedded/infra/infra_net.c"
                "iotkit-embedded/infra/infra_json_parser.c"
                "iotkit-embedded/infra/infra_prt_nwk_payload.c"
                "iotkit-embedded/infra/infra_md5.c"
                "iotkit-embedded/infra/infra_cjson.c"
                "iotkit-embedded/infra/infra_sha256.c"
                "iotkit-embedded/infra/infra_timer.c"
                "iotkit-embedded/http2/iotx_http2.c"
                "iotkit-embedded/http2/http2_api.c"
                "iotkit-embedded/http2/http2_upload_api.c"
                "wrappers/wrapper_wifi.c"
                "wrappers/wrapper_kv.c"
                "wrappers/wrapper_system.c"
                "wrappers/wrapper_ota.c"
                "wrappers/wrapper_awss.c"
                "wrappers/wrapper_tls.c"
                "wrappers/wrapper_os.c"
                "wrappers/wrapper_product.c"
                "wrappers/wrapper_crypto.c"
                "wrappers/wrapper_udp.c")

else()
    message(STATUS "Building empty aliyun iot sdk component due to configuration")
endif()

# requirements can't depend on config
set(COMPONENT_REQUIRES spi_flash nvs_flash esp-tls)

register_component()

if(CONFIG_MESH_SUPPORT_ALIYUN_LINKKIT)
    if(GCC_NOT_5_2_0)
        component_compile_options(-Wno-char-subscripts)
    endif()
endif()






